(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,a,t){e.exports=t(46)},26:function(e,a,t){},44:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},45:function(e,a,t){},46:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(19),o=t.n(l),s=(t(26),t(5)),i=t(6),c=t(9),m=t(7),u=t(2),d=t(8),p=t(3),b=t.n(p),h=t(4),v=t.n(h),E=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).state={mascotas:[]},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"eliminarPropietario",value:function(e,a){a.preventDefault();this.props;v.a.fire({title:"Est\xe1 seguro de eliminar al propietario ".concat(e.nombre,"?"),text:"No podr\xe1 revertir esta acci\xf3n!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"cancelar",confirmButtonText:"Si, eliminar"}).then(function(a,t){a.value&&b.a.delete("http://localhost:3000/propietarios/propietario/".concat(e._id)).then(function(e){v.a.fire({position:"center",type:"success",title:"Propuetario borrado exitosamente!",showConfirmButton:!1,timer:1500}).then(function(e){window.location.reload()})}).catch(function(e){console.log(e)})})}},{key:"verMascotas",value:function(e,a){a.preventDefault();var t=this;b.a.get("http://localhost:3000/propietarios/propietario/".concat(e._id)).then(function(e){t.setState({mascotas:e.data.propietarioMascota})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,a=this.props.propietarios,t=[];a.length>0&&a.map(function(a,r){t.push(n.a.createElement("tr",{key:r},n.a.createElement("td",null,a.nombre),n.a.createElement("td",null,a.apellido),n.a.createElement("td",null,a.email),n.a.createElement("td",null,n.a.createElement("button",{onClick:function(t){return e.verMascotas(a,t)},type:"button",class:"btn btn-success","data-toggle":"modal","data-target":"#exampleModal"},n.a.createElement("span",{className:"fa fa-search-plus"})),n.a.createElement("button",{onClick:function(t){return e.eliminarPropietario(a,t)},className:"btn btn-danger"},n.a.createElement("span",{className:"fa fa-times"})))))});var r=this.state.mascotas,l=[];return r.length>0?r.map(function(e,a){l.push(n.a.createElement("div",{className:"alert alert-success",key:a},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Nombre: ",n.a.createElement("b",null,e.nombre))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Tipo: ",n.a.createElement("b",null,e.tipo)))))}):l.push(n.a.createElement("div",{className:"alert alert-danger"},"Propietario sin mascotas")),n.a.createElement("div",{className:"card"},this.props.propietarios.length>0?n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-warning table-sm table-hover table-bordered table-condensed"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",null,"Nombre"),n.a.createElement("th",null,"Apellido"),n.a.createElement("th",null,"Email"),n.a.createElement("th",null,"Accion"))),n.a.createElement("tbody",null,t))):n.a.createElement("div",{className:"alert alert-danger"},"No hay registro de propietarios de mascotas aun"),n.a.createElement("div",{class:"modal fade",id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},n.a.createElement("div",{class:"modal-dialog",role:"document"},n.a.createElement("div",{class:"modal-content"},n.a.createElement("div",{class:"modal-header"},n.a.createElement("h5",{class:"modal-title",id:"exampleModalLabel"},"Mascotas del usuario"),n.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{class:"modal-body"},l),n.a.createElement("div",{class:"modal-footer"},n.a.createElement("button",{type:"button",class:"btn btn-info","data-dismiss":"modal"},"Cerrar"))))))}}]),a}(n.a.Component),f=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).guardarMascota=function(e){console.log("guardando mascota");var a=Object(u.a)(t);b.a.post("http://localhost:3000/mascotas/mascota",{mode:"no-cors",nombre:t.state.nombre,tipo:t.state.tipo,owner:t.state.owner}).then(function(e){v.a.fire({position:"center",type:"success",title:"Mascota registrada exitosamente!",showConfirmButton:!1,timer:1500}).then(function(){a.limpiarFormulario()})}).catch(function(e){console.log(e)})},t.state={nombre:"",tipo:"",owner:"",errores:[]},t.guardarMascota.bind(Object(u.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validarFormulario",value:function(){var e=[];if(this.state.nombre&&this.state.apellido&&this.state.email)return!0;this.state.nombre||(e.push({error:"Dene ingresar un nombre",key:"nombre"}),this.setState({errores:e})),this.state.tipo||(e.push({error:"Dene ingresar un nombre",key:"tipo"}),this.setState({errores:e})),this.state.owner||(e.push({error:"Dene ingresar un propietario",key:"propietario"}),this.setState({errores:e})),console.log("los errores son: ",e)}},{key:"limpiarFormulario",value:function(){this.setState({nombre:"",tipo:"",owner:""})}},{key:"render",value:function(){var e=this;console.log("las props que llegaron aca son: ",this.props);var a=this.props.propietarios,t=[];return a.length>0?a.map(function(e,a){t.push(n.a.createElement("option",{value:e._id},e.nombre))}):t.push(n.a.createElement("option",{disabled:!0}," Sin propietarios")),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card bg-success text-white"},"Agregar mascota"),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{onSubmit:function(a){return e.guardarMascota(a)}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Nombre"),n.a.createElement("input",{type:"text",className:"form-control",value:this.state.nombre,onChange:function(a){return e.setState({nombre:a.target.value})}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Tipo"),n.a.createElement("input",{type:"text",className:"form-control",value:this.state.tipo,onChange:function(a){return e.setState({tipo:a.target.value})}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Propietario"),n.a.createElement("select",{className:"form-control",value:this.state.owner,onChange:function(a){return e.setState({owner:a.target.value})}},n.a.createElement("option",{value:""},"Seleccione un opcion"),t)),n.a.createElement("div",null,n.a.createElement("button",{type:"submit",className:"btn btn-success"},"Crear")))))}}]),a}(n.a.Component),g=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(c.a)(this,Object(m.a)(a).call(this,e))).guardarCliente=function(e){console.log("guardando cliente");var a=Object(u.a)(t);e.preventDefault(),t.validarFormulario(e)&&b.a.post("http://localhost:3000/propietarios/propietario",{mode:"no-cors",nombre:t.state.nombre,apellido:t.state.apellido,email:t.state.email}).then(function(e){v.a.fire({position:"center",type:"success",title:"Categoria registrada exitosamente!",showConfirmButton:!1,timer:1500}).then(function(){a.setState({errores:[]}),a.listarCliente(),a.limpiarFormulario()})}).catch(function(e){console.log(e)})},t.state={propietarios:[],nombre:"",apellido:"",email:"",errores:[]},t.guardarCliente.bind(Object(u.a)(t)),t.validarFormulario.bind(Object(u.a)(t)),t.recargarPadre.bind(Object(u.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"listarCliente",value:function(){var e=this;b.a.get("http://localhost:3000/propietarios/propietario",{mode:"no-cors"}).then(function(a){console.log("la response es: ",a.data),e.setState({propietarios:a.data.data})}).catch(function(e){console.log(e)})}},{key:"componentDidMount",value:function(){this.listarCliente()}},{key:"limpiarFormulario",value:function(){this.setState({nombre:"",apellido:"",email:""})}},{key:"validarFormulario",value:function(){var e=[];if(this.state.nombre&&this.state.apellido&&this.state.email)return!0;this.state.nombre||(e.push({error:"Dene ingresar un nombre",key:"nombre"}),this.setState({errores:e})),this.state.apellido||(e.push({error:"Dene ingresar un nombre",key:"apellido"}),this.setState({errores:e})),this.state.email||(e.push({error:"Dene ingresar un email",key:"email"}),this.setState({errores:e})),console.log("los errores son: ",e)}},{key:"recargarPadre",value:function(){this.listarCliente()}},{key:"render",value:function(){var e=this,a=this.state.errores,t=[];return a.length>0&&a.map(function(e){t.push(n.a.createElement("li",null,n.a.createElement("b",null,e.key,": "),e.error," "))}),n.a.createElement("div",null,a.length>0?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("div",{className:"alert alert-danger"},"Ocurrio un error en el ingreso del propietario",n.a.createElement("ul",null,t)))):n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"})),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card bg-primary text-white"},"Agregar due\xf1o"),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{onSubmit:function(a){return e.guardarCliente(a)}},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Nombre"),n.a.createElement("input",{type:"text",className:"form-control",value:this.state.nombre,onChange:function(a){return e.setState({nombre:a.target.value})}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Apellido"),n.a.createElement("input",{type:"text",className:"form-control",value:this.state.apellido,onChange:function(a){return e.setState({apellido:a.target.value})}})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Email"),n.a.createElement("input",{type:"email",className:"form-control",value:this.state.email,onChange:function(a){return e.setState({email:a.target.value})}})),n.a.createElement("div",null,n.a.createElement("button",{type:"submit",className:"btn btn-success"},"Crear")))))),n.a.createElement("div",{className:"col"},n.a.createElement(f,{propietarios:this.state.propietarios}))),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col"},n.a.createElement(E,{recargar:this.recargarPadre,propietarios:this.state.propietarios}))))}}]),a}(n.a.Component),N=function(){return n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-dark bg-primary"},n.a.createElement("a",{className:"navbar-brand",href:"#"},"Prueba tecnica"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},n.a.createElement("div",{className:"navbar-nav"},n.a.createElement("a",{className:"nav-item nav-link active",href:"#"},"Home ",n.a.createElement("span",{className:"sr-only"},"(current)")),n.a.createElement("a",{className:"nav-item nav-link",href:"#"},"Features"),n.a.createElement("a",{className:"nav-item nav-link",href:"#"},"Pricing"),n.a.createElement("a",{className:"nav-item nav-link disabled",href:"#"},"Disabled")))))};t(44),t(45);var y=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(N,null),n.a.createElement("br",null),n.a.createElement("div",{className:"container-fluid"},n.a.createElement(g,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.0ddbacd2.chunk.js.map